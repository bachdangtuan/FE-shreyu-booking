{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { COLUMN_COMPANY } from \"../../../core/constants/common\";\nimport { SyncQueryParam } from \"../../../core/decorators/syncParams.decorator\";\nimport { FormSearchCompanyHelper } from \"../../../core/helpers/formSearchCompany.helper\";\nimport { PARAM_URL } from \"../../../core/constants/url\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../core/helpers/formSearchCompany.helper\";\nimport * as i3 from \"../../../core/service/company.service\";\nimport * as i4 from \"../../../shared/page-title/page-title/page-title.component\";\nimport * as i5 from \"../../../shared/advanced-table/advanced-table.component\";\nimport * as i6 from \"@angular/common\";\nimport * as i7 from \"../../../shared/ui/feather-icon.directive\";\nfunction CompanyListComponent_ng_template_10_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 11);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r5 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"width\", column_r5.width, \"px\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", column_r5.label, \"\");\n  }\n}\nfunction CompanyListComponent_ng_template_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, CompanyListComponent_ng_template_10_th_1_Template, 2, 3, \"th\", 10);\n    i0.ɵɵelementStart(2, \"th\");\n    i0.ɵɵtext(3, \"H\\u00E0nh \\u0111\\u1ED9ng\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.columns);\n  }\n}\nfunction CompanyListComponent_ng_template_12_tr_0_span_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 21);\n    i0.ɵɵtext(1, \"Ch\\u01B0a ho\\u1EA1t \\u0111\\u1ED9ng\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CompanyListComponent_ng_template_12_tr_0_ng_template_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 22);\n    i0.ɵɵtext(1, \"\\u0110ang ho\\u1EA1t \\u0111\\u1ED9ng\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction CompanyListComponent_ng_template_12_tr_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelement(4, \"img\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8, \"124 M\\u1EF9 \\u0110\\u00ECnh, Nam T\\u1EEB Li\\u00EAm, H\\u00E0 N\\u1ED9i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\");\n    i0.ɵɵtext(12, \"22\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtemplate(17, CompanyListComponent_ng_template_12_tr_0_span_17_Template, 2, 0, \"span\", 14);\n    i0.ɵɵtemplate(18, CompanyListComponent_ng_template_12_tr_0_ng_template_18_Template, 2, 0, \"ng-template\", null, 15, i0.ɵɵtemplateRefExtractor);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵelementStart(21, \"div\", 16);\n    i0.ɵɵelementStart(22, \"button\", 17);\n    i0.ɵɵlistener(\"click\", function CompanyListComponent_ng_template_12_tr_0_Template_button_click_22_listener($event) {\n      const restoredCtx = i0.ɵɵrestoreView(_r12);\n      const i_r7 = restoredCtx.$implicit;\n      const ctx_r11 = i0.ɵɵnextContext(2);\n      return ctx_r11.RedirectToDetail(i_r7.id, $event);\n    });\n    i0.ɵɵelement(23, \"i\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(24, \"button\", 19);\n    i0.ɵɵelement(25, \"i\", 20);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r7 = ctx.$implicit;\n    const _r9 = i0.ɵɵreference(19);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r7.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"src\", i_r7.image, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r7.name);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i_r7.description.slice(0, 40) + \"...\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(15, 7, i_r7.createdAt));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", (i_r7 == null ? null : i_r7.status) === false)(\"ngIfElse\", _r9);\n  }\n}\nfunction CompanyListComponent_ng_template_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, CompanyListComponent_ng_template_12_tr_0_Template, 26, 9, \"tr\", 12);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.records);\n  }\n}\nexport class CompanyListComponent {\n  constructor(injector, route, formService, CompanyService, router) {\n    this.injector = injector;\n    this.route = route;\n    this.formService = formService;\n    this.CompanyService = CompanyService;\n    this.router = router;\n    this.pageTitle = [];\n    this.records = [];\n    this.columns = [];\n    this.formSearchAndFilter = formService.form;\n    this.initTableCofig();\n    this.getCompanyList();\n  }\n  ngOnInit() {\n    this.pageTitle = [{\n      label: 'Danh sách nhà xe',\n      path: '/',\n      active: true\n    }];\n    // this.formSearchAndFilter.patchValue({\n    //     limit: \"12\",\n    //     page: \"1\",\n    // });\n  }\n\n  getCompanyList() {\n    const params$ = this.route.queryParams;\n    console.log('params$', params$);\n    params$.subscribe(param => {\n      this.CompanyService.getCompany(param).subscribe(res => {\n        this.totalItems = res === null || res === void 0 ? void 0 : res.totalItems;\n        this.records = res.data;\n        this.limit = res.limit;\n        this.pageCurrent = res === null || res === void 0 ? void 0 : res.thisPage;\n      });\n    });\n  }\n  updatePage(data) {\n    this.formService.form.patchValue({\n      page: data\n    });\n  }\n  /**\r\n   * initialize advanced table columns\r\n   */\n  initTableCofig() {\n    this.columns = COLUMN_COMPANY;\n  }\n  RedirectToDetail(id, $event) {\n    console.log('test');\n    $event.stopPropagation();\n    const url = PARAM_URL.DETAIL_COMPANY + \"/\" + id;\n    this.router.navigate([url]).then();\n  }\n}\nCompanyListComponent.ɵfac = function CompanyListComponent_Factory(t) {\n  return new (t || CompanyListComponent)(i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FormSearchCompanyHelper), i0.ɵɵdirectiveInject(i3.CompanyService), i0.ɵɵdirectiveInject(i1.Router));\n};\nCompanyListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CompanyListComponent,\n  selectors: [[\"app-company-list\"]],\n  features: [i0.ɵɵProvidersFeature([FormSearchCompanyHelper])],\n  decls: 14,\n  vars: 6,\n  consts: [[\"title\", \"Qu\\u1EA3n l\\u00FD nh\\u00E0 xe\", 3, \"breadcrumbItems\"], [1, \"row\"], [1, \"col-12\"], [1, \"card\"], [1, \"card-body\"], [1, \"header-title\"], [1, \"text-muted\", \"font-14\"], [3, \"totalItems\", \"page\", \"limit\", \"pagination\", \"hasRowSelection\", \"pageChange\"], [\"theHeaders\", \"\"], [\"theContent\", \"\"], [\"class\", \"text-capitalize\", 3, \"width\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-capitalize\"], [4, \"ngFor\", \"ngForOf\"], [\"alt\", \"\\u1EA3nh nh\\u00E0 xe\", 1, \"w-100\", 3, \"src\"], [\"class\", \"badge badge-soft-danger py-1\", 4, \"ngIf\", \"ngIfElse\"], [\"active\", \"\"], [1, \"d-flex\", \"gap-1\", 2, \"cursor\", \"pointer\"], [1, \"btn\", 3, \"click\"], [\"data-feather\", \"edit\", \"appFeatherIcon\", \"\", 1, \"icon-dual\"], [1, \"btn\"], [\"data-feather\", \"trash\", \"appFeatherIcon\", \"\", 1, \"icon-dual\"], [1, \"badge\", \"badge-soft-danger\", \"py-1\"], [1, \"badge\", \"badge-soft-success\", \"py-1\"]],\n  template: function CompanyListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-page-title\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"h4\", 5);\n      i0.ɵɵtext(6, \"Danh s\\u00E1ch nh\\u00E0 xe\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"p\", 6);\n      i0.ɵɵtext(8, \" Danh s\\u00E1ch c\\u00E1c nh\\u00E0 xe \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"app-advanced-table\", 7);\n      i0.ɵɵlistener(\"pageChange\", function CompanyListComponent_Template_app_advanced_table_pageChange_9_listener($event) {\n        return ctx.updatePage($event);\n      });\n      i0.ɵɵtemplate(10, CompanyListComponent_ng_template_10_Template, 4, 1, \"ng-template\", null, 8, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(12, CompanyListComponent_ng_template_12_Template, 1, 1, \"ng-template\", null, 9, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"breadcrumbItems\", ctx.pageTitle);\n      i0.ɵɵadvance(9);\n      i0.ɵɵproperty(\"totalItems\", ctx.totalItems)(\"page\", ctx.pageCurrent)(\"limit\", ctx.limit)(\"pagination\", true)(\"hasRowSelection\", true);\n    }\n  },\n  directives: [i4.PageTitleComponent, i5.AdvancedTableComponent, i6.NgForOf, i6.NgIf, i7.FeatherIconDirective],\n  pipes: [i6.DatePipe],\n  styles: [\"\"]\n});\n__decorate([SyncQueryParam({\n  parseIgnore: [\"status\"]\n})], CompanyListComponent.prototype, \"formSearchAndFilter\", void 0);","map":null,"metadata":{},"sourceType":"module"}