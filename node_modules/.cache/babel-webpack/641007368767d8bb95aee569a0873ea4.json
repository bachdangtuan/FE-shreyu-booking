{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport { first } from 'rxjs/operators';\nimport { TITLE } from \"../../core/constants/common\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/core/service/auth.service\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"@angular/platform-browser\";\nimport * as i5 from \"../../shared/ui/default-layout/default-layout.component\";\nimport * as i6 from \"../../shared/ui/preloader/preloader.component\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"../../shared/ui/feather-icon.directive\";\nimport * as i9 from \"@ng-bootstrap/ng-bootstrap\";\nfunction LoginComponent_ngb_alert_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"ngb-alert\", 43);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"dismissible\", false);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r0.error);\n  }\n}\nfunction LoginComponent_div_22_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵi18n(1, 46);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtemplate(1, LoginComponent_div_22_div_1_Template, 2, 0, \"div\", 45);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.formValues.username.errors == null ? null : ctx_r1.formValues.username.errors.required);\n  }\n}\nfunction LoginComponent_div_32_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵi18n(1, 47);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_32_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵi18n(1, 48);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction LoginComponent_div_32_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 44);\n    i0.ɵɵtemplate(1, LoginComponent_div_32_div_1_Template, 2, 0, \"div\", 45);\n    i0.ɵɵtemplate(2, LoginComponent_div_32_div_2_Template, 2, 0, \"div\", 45);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.formValues.password.errors == null ? null : ctx_r2.formValues.password.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.formValues.password.errors == null ? null : ctx_r2.formValues.password.errors.minlength);\n  }\n}\nconst _c22 = function () {\n  return [\"../../dashboard/ecommerce\"];\n};\nconst _c23 = function (a0) {\n  return {\n    \"is-invalid\": a0\n  };\n};\nconst _c24 = function () {\n  return [\"../recover-password\"];\n};\nconst _c25 = function () {\n  return [\"../register\"];\n};\nexport let LoginComponent = /*#__PURE__*/(() => {\n  class LoginComponent {\n    constructor(route, router, authenticationService, fb, titleService) {\n      this.route = route;\n      this.router = router;\n      this.authenticationService = authenticationService;\n      this.fb = fb;\n      this.titleService = titleService;\n      this.loading = false;\n      this.returnUrl = '/dashboard/ecommerce';\n      this.formSubmitted = false;\n      this.error = '';\n      this.showPassword = false;\n      titleService.setTitle(TITLE.LOGIN);\n    }\n    ngOnInit() {\n      this.loginForm = this.fb.group({\n        username: ['admin', [Validators.required]],\n        password: ['123123', Validators.required]\n      });\n      // reset login status\n      this.authenticationService.logout();\n      // get return url from route parameters or default to '/'\n      this.returnUrl = this.route.snapshot.queryParams['returnUrl'] || '/dashboard/ecommerce';\n    }\n    /**\r\n     * convenience getter for easy access to form fields\r\n     */\n    get formValues() {\n      return this.loginForm.controls;\n    }\n    /**\r\n     * On submit form\r\n     */\n    onSubmit() {\n      this.formSubmitted = true;\n      if (this.loginForm.valid) {\n        const formUser = this.loginForm.value;\n        this.loading = true;\n        this.authenticationService.loginUser(formUser).pipe(first()).subscribe(data => {\n          if (data && data.accessToken) {\n            // store user details and jwt in session\n            sessionStorage.setItem('currentUser', JSON.stringify(data));\n            this.router.navigate([this.returnUrl]).then();\n          }\n        }, error => {\n          this.error = error;\n          this.loading = false;\n        });\n      }\n    }\n  }\n  LoginComponent.ɵfac = function LoginComponent_Factory(t) {\n    return new (t || LoginComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AuthenticationService), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.Title));\n  };\n  LoginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: LoginComponent,\n    selectors: [[\"app-login\"]],\n    decls: 55,\n    vars: 19,\n    consts: function () {\n      let i18n_0;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_3279237411341724670$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_1 = goog.getMsg(\"Ch\\u00E0o m\\u1EEBng quay tr\\u1EDF l\\u1EA1i !\");\n        i18n_0 = MSG_EXTERNAL_3279237411341724670$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_1;\n      } else {\n        i18n_0 = $localize`Chào mừng quay trở lại !`;\n      }\n      let i18n_2;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_1008151770403772760$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_3 = goog.getMsg(\" Nh\\u1EADp \\u0111\\u1ECBa ch\\u1EC9 t\\u00E0i kho\\u1EA3n v\\u00E0 m\\u1EADt kh\\u1EA9u c\\u1EE7a b\\u1EA1n \\u0111\\u1EC3 truy c\\u1EADp b\\u1EA3ng qu\\u1EA3n tr\\u1ECB. \");\n        i18n_2 = MSG_EXTERNAL_1008151770403772760$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_3;\n      } else {\n        i18n_2 = $localize` Nhập địa chỉ tài khoản và mật khẩu của bạn để truy cập bảng quản trị. `;\n      }\n      let i18n_4;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_6094954326457925948$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_5 = goog.getMsg(\"T\\u00E0i kho\\u1EA3n\");\n        i18n_4 = MSG_EXTERNAL_6094954326457925948$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_5;\n      } else {\n        i18n_4 = $localize`Tài khoản`;\n      }\n      let i18n_6;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_6437488467811153146$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_7 = goog.getMsg(\"M\\u1EADt kh\\u1EA9u\");\n        i18n_6 = MSG_EXTERNAL_6437488467811153146$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_7;\n      } else {\n        i18n_6 = $localize`Mật khẩu`;\n      }\n      let i18n_8;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_2772023564304193657$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_9 = goog.getMsg(\"Enter your password\");\n        i18n_8 = MSG_EXTERNAL_2772023564304193657$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_9;\n      } else {\n        i18n_8 = $localize`Enter your password`;\n      }\n      let i18n_10;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_7047302885056109894$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_11 = goog.getMsg(\"Ghi nh\\u1EDB t\\u00E0i kho\\u1EA3n\");\n        i18n_10 = MSG_EXTERNAL_7047302885056109894$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_11;\n      } else {\n        i18n_10 = $localize`Ghi nhớ tài khoản`;\n      }\n      let i18n_12;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_1425991189649446302$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_13 = goog.getMsg(\"\\u0110\\u0103ng nh\\u1EADp\");\n        i18n_12 = MSG_EXTERNAL_1425991189649446302$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_13;\n      } else {\n        i18n_12 = $localize`Đăng nhập`;\n      }\n      let i18n_14;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_8168812901991640877$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_15 = goog.getMsg(\"B\\u1EA1n ch\\u01B0a c\\u00F3 t\\u00E0i kho\\u1EA3n? {$startLink}\\u0110\\u0103ng k\\u00FD ngay{$closeLink}\", {\n          \"startLink\": \"\\uFFFD#54\\uFFFD\",\n          \"closeLink\": \"\\uFFFD/#54\\uFFFD\"\n        });\n        i18n_14 = MSG_EXTERNAL_8168812901991640877$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS_15;\n      } else {\n        i18n_14 = $localize`Bạn chưa có tài khoản? ${\"\\uFFFD#54\\uFFFD\"}:START_LINK:Đăng ký ngay${\"\\uFFFD/#54\\uFFFD\"}:CLOSE_LINK:`;\n      }\n      let i18n_16;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_3579565105633277818$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS___17 = goog.getMsg(\" Email is required. \");\n        i18n_16 = MSG_EXTERNAL_3579565105633277818$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS___17;\n      } else {\n        i18n_16 = $localize` Email is required. `;\n      }\n      let i18n_18;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_6548933290657784862$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS___19 = goog.getMsg(\" Password is required. \");\n        i18n_18 = MSG_EXTERNAL_6548933290657784862$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS___19;\n      } else {\n        i18n_18 = $localize` Password is required. `;\n      }\n      let i18n_20;\n      if (typeof ngI18nClosureMode !== \"undefined\" && ngI18nClosureMode) {\n        const MSG_EXTERNAL_2871330011941488395$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS___21 = goog.getMsg(\" Password length must be greater than 3. \");\n        i18n_20 = MSG_EXTERNAL_2871330011941488395$$SRC_APP_AUTH_LOGIN_LOGIN_COMPONENT_TS___21;\n      } else {\n        i18n_20 = $localize` Password length must be greater than 3. `;\n      }\n      return [[1, \"auth-logo\", \"mx-auto\"], [1, \"logo\", \"logo-dark\", \"text-center\", 3, \"routerLink\"], [1, \"logo-lg\"], [\"src\", \"../assets/images/logo-dark.png\", \"alt\", \"\", \"height\", \"24\"], [1, \"logo\", \"logo-light\", \"text-center\", 3, \"routerLink\"], [\"src\", \"../assets/images/logo-light.png\", \"alt\", \"\", \"height\", \"24\"], [1, \"h5\", \"mb-0\", \"mt-3\"], i18n_0, [1, \"text-muted\", \"mt-1\", \"mb-4\"], i18n_2, [\"name\", \"login-form\", 1, \"authentication-form\", 3, \"formGroup\", \"ngSubmit\"], [3, \"display\"], [\"type\", \"danger\", 3, \"dismissible\", 4, \"ngIf\"], [1, \"mb-3\"], [1, \"form-label\"], i18n_4, [1, \"input-group\"], [1, \"input-group-text\"], [\"data-feather\", \"user\", \"appFeatherIcon\", \"\", 1, \"icon-dual\"], [\"type\", \"email\", \"id\", \"email\", \"placeholder\", \"hello@coderthemes.com\", \"formControlName\", \"username\", \"required\", \"\", 1, \"form-control\", 3, \"ngClass\"], [\"class\", \"invalid-feedback\", 4, \"ngIf\"], i18n_6, [1, \"float-end\", \"text-muted\", \"text-unline-dashed\", \"ms-1\", 3, \"routerLink\"], [\"data-feather\", \"lock\", 1, \"icon-dual\"], [\"type\", \"password\", \"id\", \"password\", \"placeholder\", i18n_8, \"formControlName\", \"password\", \"required\", \"\", \"minlength\", \"4\", 1, \"form-control\", 3, \"ngClass\"], [1, \"form-check\"], [\"type\", \"checkbox\", \"id\", \"checkbox-signin\", \"checked\", \"\", 1, \"form-check-input\"], [\"for\", \"checkbox-signin\", 1, \"form-check-label\"], i18n_10, [1, \"mb-3\", \"text-center\", \"d-grid\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\"], i18n_12, [1, \"py-3\", \"text-center\"], [1, \"fs-16\", \"fw-bold\"], [1, \"row\"], [1, \"col-12\", \"text-center\"], [\"href\", \"\", 1, \"btn\", \"btn-white\", \"mb-2\", \"mb-sm-0\", \"me-1\"], [1, \"uil\", \"uil-google\", \"icon-google\", \"me-2\"], [\"href\", \"\", 1, \"btn\", \"btn-white\", \"mb-2\", \"mb-sm-0\"], [1, \"uil\", \"uil-facebook\", \"me-2\", \"icon-fb\"], [\"footerLink\", \"\", 1, \"text-muted\"], i18n_14, [1, \"text-primary\", \"fw-bold\", \"ms-1\", 3, \"routerLink\"], [\"type\", \"danger\", 3, \"dismissible\"], [1, \"invalid-feedback\"], [4, \"ngIf\"], i18n_16, i18n_18, i18n_20];\n    },\n    template: function LoginComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"app-default-layout\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵelementStart(2, \"a\", 1);\n        i0.ɵɵelementStart(3, \"span\", 2);\n        i0.ɵɵelement(4, \"img\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"a\", 4);\n        i0.ɵɵelementStart(6, \"span\", 2);\n        i0.ɵɵelement(7, \"img\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"h6\", 6);\n        i0.ɵɵi18n(9, 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"p\", 8);\n        i0.ɵɵi18n(11, 9);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"form\", 10);\n        i0.ɵɵlistener(\"ngSubmit\", function LoginComponent_Template_form_ngSubmit_12_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵelement(13, \"app-ui-preloader\", 11);\n        i0.ɵɵtemplate(14, LoginComponent_ngb_alert_14_Template, 2, 2, \"ngb-alert\", 12);\n        i0.ɵɵelementStart(15, \"div\", 13);\n        i0.ɵɵelementStart(16, \"label\", 14);\n        i0.ɵɵi18n(17, 15);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(18, \"div\", 16);\n        i0.ɵɵelementStart(19, \"span\", 17);\n        i0.ɵɵelement(20, \"i\", 18);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(21, \"input\", 19);\n        i0.ɵɵtemplate(22, LoginComponent_div_22_Template, 2, 1, \"div\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 13);\n        i0.ɵɵelementStart(24, \"label\", 14);\n        i0.ɵɵi18n(25, 21);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"a\", 22);\n        i0.ɵɵtext(27, \"Qu\\u00EAn m\\u1EADt kh\\u1EA9u?\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(28, \"div\", 16);\n        i0.ɵɵelementStart(29, \"span\", 17);\n        i0.ɵɵelement(30, \"i\", 23);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"input\", 24);\n        i0.ɵɵtemplate(32, LoginComponent_div_32_Template, 3, 2, \"div\", 20);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(33, \"div\", 13);\n        i0.ɵɵelementStart(34, \"div\", 25);\n        i0.ɵɵelement(35, \"input\", 26);\n        i0.ɵɵelementStart(36, \"label\", 27);\n        i0.ɵɵi18n(37, 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(38, \"div\", 29);\n        i0.ɵɵelementStart(39, \"button\", 30);\n        i0.ɵɵi18n(40, 31);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(41, \"div\", 32);\n        i0.ɵɵelementStart(42, \"span\", 33);\n        i0.ɵɵtext(43, \"Ho\\u1EB7c\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(44, \"div\", 34);\n        i0.ɵɵelementStart(45, \"div\", 35);\n        i0.ɵɵelementStart(46, \"a\", 36);\n        i0.ɵɵelement(47, \"i\", 37);\n        i0.ɵɵtext(48, \"With Google\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(49, \"a\", 38);\n        i0.ɵɵelement(50, \"i\", 39);\n        i0.ɵɵtext(51, \"With Facebook\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(52, \"p\", 40);\n        i0.ɵɵi18nStart(53, 41);\n        i0.ɵɵelement(54, \"a\", 42);\n        i0.ɵɵi18nEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(11, _c22));\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(12, _c22));\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"formGroup\", ctx.loginForm);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"display\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c23, ctx.formSubmitted && ctx.formValues.username.invalid));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.formSubmitted && ctx.formValues.username.invalid);\n        i0.ɵɵadvance(4);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(15, _c24));\n        i0.ɵɵadvance(5);\n        i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(16, _c23, ctx.formSubmitted && ctx.formValues.password.invalid));\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.formSubmitted && ctx.formValues.password.invalid);\n        i0.ɵɵadvance(22);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(18, _c25));\n      }\n    },\n    directives: [i5.DefaultLayoutComponent, i1.RouterLinkWithHref, i3.ɵNgNoValidate, i3.NgControlStatusGroup, i3.FormGroupDirective, i6.PreloaderComponent, i7.NgIf, i8.FeatherIconDirective, i3.DefaultValueAccessor, i3.NgControlStatus, i3.FormControlName, i3.RequiredValidator, i7.NgClass, i3.MinLengthValidator, i9.NgbAlert],\n    styles: [\"\"]\n  });\n  return LoginComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}