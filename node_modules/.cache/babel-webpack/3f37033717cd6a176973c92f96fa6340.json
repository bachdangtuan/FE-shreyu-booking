{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { SyncQueryParam } from \"../../../core/decorators/syncParams.decorator\";\nimport { FormControl } from \"@angular/forms\";\nimport { COLUMN_TRIP, STATUS, STATUS_CONTENT, STATUS_VALUE } from \"../../../core/constants/common\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../../../core/helpers/formSearchTrip.helper\";\nimport * as i3 from \"../../../core/service/trip.service\";\nimport * as i4 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i5 from \"../../../shared/page-title/page-title/page-title.component\";\nimport * as i6 from \"ng-select2-component\";\nimport * as i7 from \"../../../shared/advanced-table/advanced-table.component\";\nimport * as i8 from \"@angular/common\";\nfunction TripListComponent_ng_template_14_th_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"th\", 15);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const column_r5 = ctx.$implicit;\n    i0.ɵɵstyleProp(\"width\", column_r5.width, \"px\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", column_r5.label, \"\");\n  }\n}\nfunction TripListComponent_ng_template_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵtemplate(1, TripListComponent_ng_template_14_th_1_Template, 2, 3, \"th\", 14);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r1.columns);\n  }\n}\nfunction TripListComponent_ng_template_16_tr_0_p_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 23);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r8.STATUS_CONTENT.SAN_SANG);\n  }\n}\nfunction TripListComponent_ng_template_16_tr_0_p_25_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 24);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r9.STATUS_CONTENT.CHUA_SAN_SANG, \"\");\n  }\n}\nfunction TripListComponent_ng_template_16_tr_0_p_26_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 25);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r10.STATUS_CONTENT.DA_HOAN_THANH, \"\");\n  }\n}\nfunction TripListComponent_ng_template_16_tr_0_p_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 26);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r11.STATUS_CONTENT.DANG_TIEN_HANH);\n  }\n}\nfunction TripListComponent_ng_template_16_tr_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵelementStart(4, \"p\", 17);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"small\");\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵelementStart(9, \"p\", 17);\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"small\");\n    i0.ɵɵtext(12);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"td\");\n    i0.ɵɵtext(14);\n    i0.ɵɵpipe(15, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"td\");\n    i0.ɵɵtext(17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"td\");\n    i0.ɵɵtext(19);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"td\");\n    i0.ɵɵtext(21);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(22, \"td\");\n    i0.ɵɵelementStart(23, \"div\", 18);\n    i0.ɵɵtemplate(24, TripListComponent_ng_template_16_tr_0_p_24_Template, 2, 1, \"p\", 19);\n    i0.ɵɵtemplate(25, TripListComponent_ng_template_16_tr_0_p_25_Template, 2, 1, \"p\", 20);\n    i0.ɵɵtemplate(26, TripListComponent_ng_template_16_tr_0_p_26_Template, 2, 1, \"p\", 21);\n    i0.ɵɵtemplate(27, TripListComponent_ng_template_16_tr_0_p_27_Template, 2, 1, \"p\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const i_r7 = ctx.$implicit;\n    const ctx_r6 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r7.id);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i_r7.from.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r7.from.address);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i_r7.to.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r7.to.address);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(15, 14, i_r7.startTime, \"HH:mm - dd/MM/yyyy\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\"\", i_r7.price.toLocaleString(), \" \\u20AB\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i_r7.user.length, \" ng\\u01B0\\u1EDDi\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", i_r7.price * i_r7.user.length, \" \\u20AB\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngSwitch\", i_r7 == null ? null : i_r7.status);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r6.STATUS_VALUE.SAN_SANG);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r6.STATUS_VALUE.CHUA_SAN_SANG);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r6.STATUS_VALUE.DA_HOAN_THANH);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", ctx_r6.STATUS_VALUE.DANG_TIEN_HANH);\n  }\n}\nfunction TripListComponent_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵtemplate(0, TripListComponent_ng_template_16_tr_0_Template, 28, 17, \"tr\", 16);\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r3.records);\n  }\n}\nexport class TripListComponent {\n  constructor(injector, route, formService, TripService, router, _NgbModal) {\n    this.injector = injector;\n    this.route = route;\n    this.formService = formService;\n    this.TripService = TripService;\n    this.router = router;\n    this._NgbModal = _NgbModal;\n    this.pageTitle = [];\n    this.records = [];\n    this.columns = [];\n    this.status = [];\n    this.STATUS_VALUE = STATUS_VALUE;\n    this.STATUS_CONTENT = STATUS_CONTENT;\n    this.formSearchAndFilter = formService.form;\n    this.initTableCofig();\n    this.getCompanyList();\n  }\n  getCompanyList() {\n    const params$ = this.route.queryParams;\n    // console.log('params$', params$)\n    params$.subscribe(param => {\n      this.TripService.getTrip(param).subscribe(res => {\n        this.totalItems = res === null || res === void 0 ? void 0 : res.totalItems;\n        this.records = res.data;\n        this.limit = res.limit;\n        this.pageCurrent = res === null || res === void 0 ? void 0 : res.thisPage;\n      });\n    });\n  }\n  updatePage(data) {\n    this.formService.form.patchValue({\n      page: data\n    });\n  }\n  initTableCofig() {\n    this.columns = COLUMN_TRIP;\n  }\n  ngOnInit() {\n    this.pageTitle = [{\n      label: 'Danh sách lộ trình',\n      path: '/',\n      active: true\n    }];\n    this.status = STATUS;\n  }\n  changeSelectedStatus($event) {\n    const valueSearch = $event.options[0].value;\n    if (valueSearch !== '10') {\n      this.formSearchAndFilter.addControl('status', new FormControl());\n      this.formSearchAndFilter.patchValue({\n        status: valueSearch\n      });\n    } else {\n      this.formSearchAndFilter.removeControl('status');\n    }\n    // console.log('huihu', $event.options[0])\n  }\n}\n\nTripListComponent.ɵfac = function TripListComponent_Factory(t) {\n  return new (t || TripListComponent)(i0.ɵɵdirectiveInject(i0.Injector), i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FormSearchTripHelper), i0.ɵɵdirectiveInject(i3.TripService), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i4.NgbModal));\n};\nTripListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: TripListComponent,\n  selectors: [[\"app-trip-list\"]],\n  decls: 18,\n  vars: 7,\n  consts: [[\"title\", \"Qu\\u1EA3n l\\u00FD l\\u1ED9 tr\\u00ECnh\", 3, \"breadcrumbItems\"], [1, \"row\"], [1, \"col-12\"], [1, \"card\"], [1, \"card-body\"], [1, \"d-flex\", \"justify-content-between\"], [1, \"col-2\"], [1, \"header-title\"], [1, \"text-muted\", \"font-14\"], [1, \"col-1\"], [\"placeholder\", \"L\\u1ECDc tr\\u1EA1ng th\\u00E1i\", \"id\", \"select2-2\", 3, \"data\", \"update\"], [3, \"totalItems\", \"page\", \"limit\", \"pagination\", \"hasRowSelection\", \"pageChange\"], [\"theHeaders\", \"\"], [\"theContent\", \"\"], [\"class\", \"text-capitalize\", 3, \"width\", 4, \"ngFor\", \"ngForOf\"], [1, \"text-capitalize\"], [4, \"ngFor\", \"ngForOf\"], [1, \"m-0\"], [3, \"ngSwitch\"], [\"class\", \"badge badge-soft-info py-1\", 4, \"ngSwitchCase\"], [\"class\", \"badge badge-soft-danger py-1\", 4, \"ngSwitchCase\"], [\"class\", \"badge badge-soft-success py-1\", 4, \"ngSwitchCase\"], [\"class\", \"badge badge-soft-warning py-1\", 4, \"ngSwitchCase\"], [1, \"badge\", \"badge-soft-info\", \"py-1\"], [1, \"badge\", \"badge-soft-danger\", \"py-1\"], [1, \"badge\", \"badge-soft-success\", \"py-1\"], [1, \"badge\", \"badge-soft-warning\", \"py-1\"]],\n  template: function TripListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-page-title\", 0);\n      i0.ɵɵelementStart(1, \"div\", 1);\n      i0.ɵɵelementStart(2, \"div\", 2);\n      i0.ɵɵelementStart(3, \"div\", 3);\n      i0.ɵɵelementStart(4, \"div\", 4);\n      i0.ɵɵelementStart(5, \"div\", 5);\n      i0.ɵɵelementStart(6, \"div\", 6);\n      i0.ɵɵelementStart(7, \"h4\", 7);\n      i0.ɵɵtext(8, \"Danh s\\u00E1ch l\\u1ED9 tr\\u00ECnh \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"p\", 8);\n      i0.ɵɵtext(10, \" Danh s\\u00E1ch c\\u00E1c l\\u1ED9 tr\\u00ECnh \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 9);\n      i0.ɵɵelementStart(12, \"select2\", 10);\n      i0.ɵɵlistener(\"update\", function TripListComponent_Template_select2_update_12_listener($event) {\n        return ctx.changeSelectedStatus($event);\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(13, \"app-advanced-table\", 11);\n      i0.ɵɵlistener(\"pageChange\", function TripListComponent_Template_app_advanced_table_pageChange_13_listener($event) {\n        return ctx.updatePage($event);\n      });\n      i0.ɵɵtemplate(14, TripListComponent_ng_template_14_Template, 2, 1, \"ng-template\", null, 12, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵtemplate(16, TripListComponent_ng_template_16_Template, 1, 1, \"ng-template\", null, 13, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵproperty(\"breadcrumbItems\", ctx.pageTitle);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"data\", ctx.status);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"totalItems\", ctx.totalItems)(\"page\", ctx.pageCurrent)(\"limit\", ctx.limit)(\"pagination\", true)(\"hasRowSelection\", true);\n    }\n  },\n  directives: [i5.PageTitleComponent, i6.Select2, i7.AdvancedTableComponent, i8.NgForOf, i8.NgSwitch, i8.NgSwitchCase],\n  pipes: [i8.DatePipe],\n  styles: [\"\"]\n});\n__decorate([SyncQueryParam({\n  parseIgnore: [\"status\"]\n})], TripListComponent.prototype, \"formSearchAndFilter\", void 0);","map":null,"metadata":{},"sourceType":"module"}