"use strict";(self.webpackChunkshreyu_angular=self.webpackChunkshreyu_angular||[]).push([[578],{1578:function(e,t,i){i.r(t),i.d(t,{VehicleModule:function(){return $}});var n=i(8583),a=i(1558),o=i(4762),r=i(2496),l=i(7995),s=i(2187),d=i(7716),c=i(6201),u=i(1841);let p=(()=>{class e{constructor(e){this.http=e}createVehicle(e){return console.log("form",e),this.http.post(c.T.CREATE_VEHICLE,e)}getVehicle(e){return console.log("param",e),this.http.get(c.T.LIST_VEHICLE,{params:e})}}return e.\u0275fac=function(t){return new(t||e)(d.LFG(u.eN))},e.\u0275prov=d.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var g=i(2111),m=i(5270),v=i(8785);function f(e,t){if(1&e&&(d.TgZ(0,"th",11),d._uU(1),d.qZA()),2&e){const e=t.$implicit;d.Udp("width",e.width,"px"),d.xp6(1),d.hij(" ",e.label,"")}}function h(e,t){if(1&e&&(d.TgZ(0,"tr"),d.YNc(1,f,2,3,"th",10),d.TgZ(2,"th"),d._uU(3,"H\xe0nh \u0111\u1ed9ng"),d.qZA(),d.qZA()),2&e){const e=d.oxw();d.xp6(1),d.Q6J("ngForOf",e.columns)}}function Z(e,t){1&e&&(d.TgZ(0,"span",21),d._uU(1,"Ch\u01b0a ho\u1ea1t \u0111\u1ed9ng"),d.qZA())}function b(e,t){1&e&&(d.TgZ(0,"span",22),d._uU(1,"\u0110ang ho\u1ea1t \u0111\u1ed9ng"),d.qZA())}function T(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"tr"),d.TgZ(1,"td"),d._uU(2),d.qZA(),d.TgZ(3,"td"),d._UZ(4,"img",13),d.qZA(),d.TgZ(5,"td"),d._uU(6),d.qZA(),d.TgZ(7,"td"),d._uU(8),d.qZA(),d.TgZ(9,"td"),d._uU(10),d.qZA(),d.TgZ(11,"td"),d._uU(12),d.qZA(),d.TgZ(13,"td"),d._uU(14),d.ALo(15,"date"),d.qZA(),d.TgZ(16,"td"),d.YNc(17,Z,2,0,"span",14),d.YNc(18,b,2,0,"ng-template",null,15,d.W1O),d.qZA(),d.TgZ(20,"td"),d.TgZ(21,"div",16),d.TgZ(22,"button",17),d.NdJ("click",function(t){const i=d.CHM(e).$implicit;return d.oxw(2).RedirectToDetail(i.id,t)}),d._UZ(23,"i",18),d.qZA(),d.TgZ(24,"button",19),d._UZ(25,"i",20),d.qZA(),d.qZA(),d.qZA(),d.qZA()}if(2&e){const e=t.$implicit,i=d.MAs(19);d.xp6(2),d.Oqu(e.id),d.xp6(2),d.Q6J("src",e.images,d.LSH),d.xp6(2),d.Oqu(e.name),d.xp6(2),d.Oqu(e.type),d.xp6(2),d.Oqu(e.description.slice(0,40)+"..."),d.xp6(2),d.Oqu(e.numberRegister),d.xp6(2),d.Oqu(d.lcZ(15,9,e.createdAt)),d.xp6(3),d.Q6J("ngIf",!1===(null==e?null:e.status))("ngIfElse",i)}}function q(e,t){if(1&e&&d.YNc(0,T,26,11,"tr",12),2&e){const e=d.oxw();d.Q6J("ngForOf",e.records)}}class x{constructor(e,t,i,n,a){this.injector=e,this.route=t,this.formService=i,this.vehicleService=n,this.router=a,this.pageTitle=[],this.records=[],this.columns=[],this.formSearchAndFilter=i.form}ngOnInit(){this.pageTitle=[{label:"Danh s\xe1ch xe",path:"/",active:!0}],this.getVehicleList(),this.initTableCofig()}updatePage(e){this.formService.form.patchValue({page:e})}RedirectToDetail(e,t){console.log("test"),t.stopPropagation()}initTableCofig(){this.columns=s.C9}getVehicleList(){const e=this.route.queryParams;console.log("params$",e),e.subscribe(e=>{this.vehicleService.getVehicle(e).subscribe(e=>{this.totalItems=null==e?void 0:e.totalItems,this.records=e.data,this.limit=e.limit,this.pageCurrent=null==e?void 0:e.thisPage})})}}x.\u0275fac=function(e){return new(e||x)(d.Y36(d.zs3),d.Y36(a.gz),d.Y36(l.z),d.Y36(p),d.Y36(a.F0))},x.\u0275cmp=d.Xpm({type:x,selectors:[["app-vehicle-list"]],features:[d._Bn([l.z])],decls:14,vars:6,consts:[["title","Qu\u1ea3n l\xfd nh\xe0 xe",3,"breadcrumbItems"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"header-title"],[1,"text-muted","font-14"],[3,"totalItems","page","limit","pagination","hasRowSelection","pageChange"],["theHeaders",""],["theContent",""],["class","text-capitalize",3,"width",4,"ngFor","ngForOf"],[1,"text-capitalize"],[4,"ngFor","ngForOf"],["alt","\u1ea3nh nh\xe0 xe",1,"w-100",3,"src"],["class","badge badge-soft-danger py-1",4,"ngIf","ngIfElse"],["active",""],[1,"d-flex","gap-1",2,"cursor","pointer"],[1,"btn",3,"click"],["data-feather","edit","appFeatherIcon","",1,"icon-dual"],[1,"btn"],["data-feather","trash","appFeatherIcon","",1,"icon-dual"],[1,"badge","badge-soft-danger","py-1"],[1,"badge","badge-soft-success","py-1"]],template:function(e,t){1&e&&(d._UZ(0,"app-page-title",0),d.TgZ(1,"div",1),d.TgZ(2,"div",2),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"h4",5),d._uU(6,"Danh s\xe1ch nh\xe0 xe"),d.qZA(),d.TgZ(7,"p",6),d._uU(8," Danh s\xe1ch c\xe1c nh\xe0 xe "),d.qZA(),d.TgZ(9,"app-advanced-table",7),d.NdJ("pageChange",function(e){return t.updatePage(e)}),d.YNc(10,h,4,1,"ng-template",null,8,d.W1O),d.YNc(12,q,1,1,"ng-template",null,9,d.W1O),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e&&(d.Q6J("breadcrumbItems",t.pageTitle),d.xp6(9),d.Q6J("totalItems",t.totalItems)("page",t.pageCurrent)("limit",t.limit)("pagination",!0)("hasRowSelection",!0))},directives:[g.T,m.j,n.sg,n.O5,v.R],pipes:[n.uU],styles:[""]}),(0,o.gn)([(0,r.D)({parseIgnore:["status"]})],x.prototype,"formSearchAndFilter",void 0);var A=i(665),C=i(5304),U=i(205);const _=[{label:"",options:[{value:"SUV",label:"D\xf2ng xe suv"},{value:"SEDAN",label:"D\xf2ng xe sedan"},{value:"TRUCK",label:"D\xf2ng xe xe t\u1ea3i"}]}];var y=i(9075),I=i(753),J=i(4923);function k(e,t){if(1&e){const e=d.EpF();d.TgZ(0,"ngx-dropzone-preview",31),d.NdJ("removed",function(){d.CHM(e);const t=d.oxw().$implicit;return d.oxw().onRemove(t)})("click",function(t){return d.CHM(e),d.oxw(2).onClick(t)}),d.qZA()}if(2&e){const e=d.oxw().$implicit,t=d.oxw();d.Udp("background-image",t.getPreviewUrl(e))("background-size","cover"),d.Q6J("removable",!0)}}function N(e,t){if(1&e&&(d.ynx(0),d.YNc(1,k,1,5,"ngx-dropzone-preview",30),d.BQk()),2&e){const e=t.$implicit;d.xp6(1),d.Q6J("ngIf",e.type.includes("image"))}}function Q(e,t){1&e&&(d.TgZ(0,"div",32),d._uU(1," T\xean h\u1ee3p l\u1ec7 "),d.qZA())}function Y(e,t){1&e&&(d.TgZ(0,"div",33),d._uU(1," Vui l\xf2ng nh\u1eadp xe "),d.qZA())}function w(e,t){1&e&&(d.TgZ(0,"div",32),d._uU(1," T\xean h\u1ee3p l\u1ec7 "),d.qZA())}function F(e,t){1&e&&(d.TgZ(0,"div",33),d._uU(1," Vui l\xf2ng nh\u1eadp xe "),d.qZA())}function L(e,t){1&e&&(d.TgZ(0,"div",34),d._uU(1," Vui l\xf2ng nh\u1eadp xe "),d.qZA())}function S(e,t){1&e&&(d.TgZ(0,"div",32),d._uU(1," Looks good! "),d.qZA())}function z(e,t){1&e&&(d.TgZ(0,"div",33),d._uU(1," Please driver "),d.qZA())}function O(e,t){1&e&&(d.TgZ(0,"div",32),d._uU(1," Looks good! "),d.qZA())}function R(e,t){1&e&&(d.TgZ(0,"div",33),d._uU(1," Please provide a valid state. "),d.qZA())}function V(e,t){1&e&&(d.TgZ(0,"div",32),d._uU(1," Looks good! "),d.qZA())}function B(e,t){1&e&&(d.TgZ(0,"div",33),d._uU(1," Please provide a valid zip. "),d.qZA())}const D=function(e,t){return{"is-valid":e,"is-invalid":t}},E=[{path:"create",component:(()=>{class e{constructor(e,t,i){this.fb=e,this.VehicleService=t,this.sanitizer=i,this.files=[],this.countries=[],this.validCreateCompany=this.fb.group({name:["",A.kI.required],driver:["",A.kI.required],type:["",A.kI.required],numberRegister:["",A.kI.required],description:["",A.kI.required],avatar:["",A.kI.required]})}ngOnInit(){this.countries=_,this.pageTitle=[{label:"Danh s\xe1ch xe",path:"/"},{label:"T\u1ea1o m\u1edbi",path:"/",active:!0}]}onSelect(e){console.log("event",e.addedFiles[0]),this.files.push(...e.addedFiles),this.validCreateCompany.patchValue({avatar:e.addedFiles[0]})}createCompany(){var e,t,i,n,a,o;if(!this.validCreateCompany.invalid){const r=new FormData;r.append("name",null===(e=this.validCreateCompany.get("name"))||void 0===e?void 0:e.value),r.append("driver",null===(t=this.validCreateCompany.get("driver"))||void 0===t?void 0:t.value),r.append("numberRegister",null===(i=this.validCreateCompany.get("numberRegister"))||void 0===i?void 0:i.value),r.append("type",null===(n=this.validCreateCompany.get("type"))||void 0===n?void 0:n.value),r.append("description",null===(a=this.validCreateCompany.get("description"))||void 0===a?void 0:a.value),r.append("avatar",null===(o=this.validCreateCompany.get("avatar"))||void 0===o?void 0:o.value),this.VehicleService.createVehicle(r).pipe((0,C.K)(e=>(0,U._)(e))).subscribe(e=>{console.log(e)})}}submitFormCompany(){this.createCompany()}get form1(){return this.validCreateCompany.controls}onRemove(e){this.files.splice(this.files.indexOf(e),1)}onClick(e){e.stopPropagation()}getPreviewUrl(e){return this.sanitizer.bypassSecurityTrustStyle("url("+URL.createObjectURL(e)+")")}}return e.\u0275fac=function(t){return new(t||e)(d.Y36(A.qu),d.Y36(p),d.Y36(y.H7))},e.\u0275cmp=d.Xpm({type:e,selectors:[["app-vehicle-create"]],decls:58,vars:32,consts:[["title","T\u1ea1o m\u1edbi nh\xe0 xe",3,"breadcrumbItems"],[1,"needs-validation",3,"formGroup","submit"],["validate1","ngForm"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-body"],[1,"header-title","mt-0"],[1,"d-flex","gap-5"],[1,"col-md-5"],["formControlName","avatar",1,"dropzone",2,"height","50% !important",3,"multiple","change"],[1,"h1","text-muted","dripicons-cloud-upload"],[1,"text-muted","font-13"],[4,"ngFor","ngForOf"],["class","valid-feedback",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"col-md-6"],[1,"mb-3"],["for","validationCustom01",1,"form-label"],["type","text","id","validationCustom01","placeholder","T\xean c\xf4ng ty","value","Mark","required","","formControlName","name",1,"form-control",3,"ngClass"],["formControlName","type","placeholder","L\u1ef1a ch\u1ecdn lo\u1ea1i xe","id","selec2-2",3,"data"],["country1",""],["class","",4,"ngIf"],["for","validationCustom03",1,"form-label"],["type","text","id","validationCustom03","placeholder","S\u1ed1 l\u01b0\u1ee3ng t\xe0i x\u1ebf ","required","","formControlName","driver",1,"form-control",3,"ngClass"],["for","validationCustom04",1,"form-label"],["type","text","id","validationCustom04","placeholder","Bi\u1ec3n s\u1ed1 xe","required","","formControlName","numberRegister",1,"form-control",3,"ngClass"],["for","validationCustom05",1,"form-label"],["type","text","id","validationCustom05","placeholder","L\u1eddi gi\u1edbi thi\u1ec7u v\u1ec1 c\xf4ng ty","required","","formControlName","description",1,"form-control",3,"ngClass"],["type","submit",1,"btn","btn-primary"],[3,"removable","background-image","background-size","removed","click",4,"ngIf"],[3,"removable","removed","click"],[1,"valid-feedback"],[1,"invalid-feedback"],[1,""]],template:function(e,t){if(1&e&&(d._UZ(0,"app-page-title",0),d.TgZ(1,"form",1,2),d.NdJ("submit",function(){return t.submitFormCompany()}),d.TgZ(3,"div",3),d.TgZ(4,"div",4),d.TgZ(5,"div",5),d.TgZ(6,"div",6),d.TgZ(7,"h4",7),d._uU(8,"Th\xf4ng tin nh\xe0 xe"),d.qZA(),d.TgZ(9,"div",8),d.TgZ(10,"div",9),d.TgZ(11,"ngx-dropzone",10),d.NdJ("change",function(e){return t.onSelect(e)}),d.TgZ(12,"ngx-dropzone-label"),d._UZ(13,"i",11),d.TgZ(14,"h3"),d._uU(15,"T\u1ea3i \u1ea3nh l\xean."),d.qZA(),d.TgZ(16,"span",12),d._uU(17,"(\u0110\xe2y ch\u1ec9 l\xe0 m\u1ed9t dropzone demo. C\xe1c t\u1eadp tin \u0111\u01b0\u1ee3c ch\u1ecdn l\xe0 "),d.TgZ(18,"strong"),d._uU(19,"kh\xf4ng"),d.qZA(),d._uU(20," th\u1ef1c s\u1ef1 t\u1ea3i l\xean.)"),d.qZA(),d.qZA(),d.YNc(21,N,2,1,"ng-container",13),d.YNc(22,Q,2,0,"div",14),d.YNc(23,Y,2,0,"div",15),d.qZA(),d.qZA(),d.TgZ(24,"div",16),d.TgZ(25,"div",17),d.TgZ(26,"label",18),d._uU(27,"T\xean xe"),d.qZA(),d._UZ(28,"input",19),d.YNc(29,w,2,0,"div",14),d.YNc(30,F,2,0,"div",15),d.qZA(),d.TgZ(31,"div",17),d.TgZ(32,"label",18),d._uU(33,"Lo\u1ea1i xe"),d.qZA(),d._UZ(34,"select2",20,21),d.YNc(36,L,2,0,"div",22),d.qZA(),d.TgZ(37,"div",17),d.TgZ(38,"label",23),d._uU(39,"Driver"),d.qZA(),d._UZ(40,"input",24),d.YNc(41,S,2,0,"div",14),d.YNc(42,z,2,0,"div",15),d.qZA(),d.TgZ(43,"div",17),d.TgZ(44,"label",25),d._uU(45,"Bi\u1ec3n s\u1ed1 xe"),d.qZA(),d._UZ(46,"input",26),d.YNc(47,O,2,0,"div",14),d.YNc(48,R,2,0,"div",15),d.qZA(),d.TgZ(49,"div",17),d.TgZ(50,"label",27),d._uU(51,"L\u1eddi gi\u1edbi thi\u1ec7u"),d.qZA(),d.TgZ(52,"textarea",28),d._uU(53,"                                "),d.qZA(),d.YNc(54,V,2,0,"div",14),d.YNc(55,B,2,0,"div",15),d.qZA(),d.TgZ(56,"button",29),d._uU(57,"Submit form"),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA(),d.qZA()),2&e){const e=d.MAs(2);d.Q6J("breadcrumbItems",t.pageTitle),d.xp6(1),d.Q6J("formGroup",t.validCreateCompany),d.xp6(10),d.Q6J("multiple",!1),d.xp6(10),d.Q6J("ngForOf",t.files),d.xp6(1),d.Q6J("ngIf",e.submitted&&t.form1.avatar.valid),d.xp6(1),d.Q6J("ngIf",e.submitted&&t.form1.avatar.invalid),d.xp6(5),d.Q6J("ngClass",d.WLB(20,D,e.submitted&&t.form1.name.valid,e.submitted&&t.form1.name.invalid)),d.xp6(1),d.Q6J("ngIf",e.submitted&&t.form1.name.valid),d.xp6(1),d.Q6J("ngIf",e.submitted&&t.form1.name.invalid),d.xp6(4),d.Q6J("data",t.countries),d.xp6(2),d.Q6J("ngIf",e.submitted&&t.form1.type.invalid),d.xp6(4),d.Q6J("ngClass",d.WLB(23,D,e.submitted&&t.form1.driver.valid,e.submitted&&t.form1.driver.invalid)),d.xp6(1),d.Q6J("ngIf",e.submitted&&t.form1.driver.valid),d.xp6(1),d.Q6J("ngIf",e.submitted&&t.form1.driver.invalid),d.xp6(4),d.Q6J("ngClass",d.WLB(26,D,e.submitted&&t.form1.numberRegister.valid,e.submitted&&t.form1.numberRegister.invalid)),d.xp6(1),d.Q6J("ngIf",e.submitted&&t.form1.numberRegister.valid),d.xp6(1),d.Q6J("ngIf",e.submitted&&t.form1.numberRegister.invalid),d.xp6(4),d.Q6J("ngClass",d.WLB(29,D,e.submitted&&t.form1.description.valid,e.submitted&&t.form1.description.invalid)),d.xp6(2),d.Q6J("ngIf",e.submitted&&t.form1.description.valid),d.xp6(1),d.Q6J("ngIf",e.submitted&&t.form1.description.invalid)}},directives:[g.T,A._Y,A.JL,A.sg,I._f,A.JJ,A.u,I.Jj,n.sg,n.O5,A.Fj,A.Q7,n.mk,J.ub,I.dt],styles:[""]}),e})()},{path:"list",component:x}];let P=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[a.Bz.forChild(E)],a.Bz]}),e})();var H=i(2989),j=i(1413),W=i(9668);let $=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=d.oAB({type:e}),e.\u0275inj=d.cJS({imports:[[n.ez,P,H.p,j.$,W.W,I.bB,A.UX,J.ig]]}),e})()}}]);